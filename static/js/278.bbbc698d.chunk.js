"use strict";(self.webpackChunkcost_squad=self.webpackChunkcost_squad||[]).push([[278],{1082:function(e,n,i){i.r(n),i.d(n,{default:function(){return o}});var t=i(9439),s=i(2791),a=i(7689),c=i.p+"static/media/error-animation.c5e9269d8877712690d3.gif",l=i(445),d=i.p+"static/media/add-expense-animation.53769cae2061a902a006.gif",r=i(184),o=function(e){var n=e.description,i=e.amount,o=e.selectedMemberId,m=e.groupId,u=e.groupMembers,h=e.groupExpenses,p=e.imageFileName,x=e.handleDescriptionChange,g=e.handleAmountChange,j=e.handleSelectedMemberChange,f=e.handleAddExpense,v=e.handleImageChange,b=(0,s.useState)(1),y=(0,t.Z)(b,2),C=y[0],N=y[1],k=(0,s.useState)(""),I=(0,t.Z)(k,2),w=I[0],A=I[1],D=(0,a.s0)();(0,s.useEffect)((function(){var e=window.location.hash,n=e.indexOf("currency=");if(-1!==n){var i=e.slice(n+9);A(decodeURIComponent(i))}}),[]);var E=4*(C-1),F=E+4,S=h.slice().sort((function(e,n){return n.timestamp-e.timestamp})).slice(E,F);return(0,r.jsx)(r.Fragment,{children:u.length>1?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"title-and-animation",children:[(0,r.jsx)("h2",{className:"pulse",children:"Add expense"}),(0,r.jsx)("img",{src:d,alt:"Add expense animation",width:50,height:50})]}),(0,r.jsx)("input",{type:"text",id:"description-group",placeholder:"Description",value:n,onChange:x,maxLength:50}),(0,r.jsx)("input",{type:"number",placeholder:"Amount",value:i,onChange:g}),(0,r.jsxs)("div",{style:{margin:"1rem"},children:[(0,r.jsx)("label",{style:{margin:"10px"},children:"Paid By: "}),(0,r.jsxs)("select",{className:"currency",value:o,onChange:j,"data-testid":"selected-member",children:[(0,r.jsx)("option",{value:"",children:"Select member"}),u.filter((function(e){return e.name&&""!==e.name.trim()})).map((function(e){return(0,r.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),(0,r.jsxs)("div",{className:"custom-upload-button",onClick:function(){var e;null===(e=document.getElementById("fileInput"))||void 0===e||e.click()},children:[(0,r.jsx)("span",{children:"Upload Receipt"}),(0,r.jsx)("input",{type:"file",accept:"image/*",id:"fileInput",style:{display:"none"},onChange:v})]}),p&&(0,r.jsxs)("p",{children:["Selected Image:"," ",function(e){if(e&&e.length>14){var n=e.slice(0,10),i=e.slice(-4);return"".concat(n,"...").concat(i)}return e}(p)||"No image selected"]}),(0,r.jsx)("button",{disabled:""===n.trim()||""===i.trim()||""===o,onClick:f,children:"Add Expense"}),(0,r.jsxs)("div",{children:[S.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"title-and-animation",children:[(0,r.jsx)("h2",{className:"pulse",children:"Expenses History"}),(0,r.jsx)("img",{src:l,alt:"Expenses History",width:50,height:50})]})]}),(0,r.jsx)("ul",{className:"expense-list",children:S.map((function(e){return(0,r.jsxs)("li",{className:"expense-item",children:[(0,r.jsxs)("p",{children:["Description: ",e.description]}),(0,r.jsxs)("p",{children:["Amount:"," ",new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:3}).format(e.amount)," ",w]}),(0,r.jsxs)("p",{children:["Paid By: ",e.payerName]}),(0,r.jsx)("button",{onClick:function(){return D("/expense-details/".concat(m,"/").concat(e.id,"?currency=").concat(w))},children:"Details"})]},e.id)}))}),h.length>4&&(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("button",{onClick:function(){N(C-1)},disabled:1===C,children:"<"}),(0,r.jsxs)("span",{children:["Page ",C]}),(0,r.jsx)("button",{onClick:function(){N(C+1)},disabled:F>=h.length,children:">"})]})]})]}):(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,r.jsx)("p",{style:{color:"#ff0000bd"},children:"You need atleast 2 members to add an expense."}),(0,r.jsx)("img",{src:c,alt:"Loading",width:25,height:25})]})})}}}]);
//# sourceMappingURL=278.bbbc698d.chunk.js.map